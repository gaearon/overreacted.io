---
title: ‚ÄúBug-O‚Äù –ù–æ—Ç–∞—Ü—ñ—è
date: '2019-01-25'
spoiler: –Ø–∫–∞ üêû(<i>n</i>) –≤–∞—à–æ–≥–æ API?
---

–ü–∏—à—É—á–∏ —á—É—Ç–ª–∏–≤–∏–π –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–æ–¥ –≤–∞—Ä—Ç–æ –ø–∞–º'—è—Ç–∞—Ç–∏ –ø—Ä–æ –π–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å. –í–æ–Ω–∞ —á–∞—Å—Ç–æ –≤–∏—Ä–∞–∂–∞—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é [Big-O –Ω–æ—Ç–∞—Ü—ñ—ó](https://rob-bell.net/2009/06/a-beginners-guide-to-big-o-notation/).

Big-O - —Ü–µ –º—ñ—Ä–∞ —Ç–æ–≥–æ, **—è–∫ —à–≤–∏–¥–∫–æ –±—É–¥–µ —Å–ø–æ–≤—ñ–ª—å–Ω—é–≤–∞—Ç–∏—Å—å —Ä–æ–±–æ—Ç–∞ –≤–∞—à–æ–≥–æ –∫–æ–¥—É –∑ —Ä–æ—Å—Ç–æ–º –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö**. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –º–∞—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(<i>n<sup>2</sup></i>), —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤ 50 —Ä–∞–∑—ñ–≤ –±—ñ–ª—å—à–µ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø—Ä–∏–±–ª–∏–∑–Ω–æ –±—É–¥–µ –≤ 50<sup>2</sup> = 2,500 —Ä–∞–∑—ñ–≤ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ. Big O –Ω–µ –¥–∞—î –≤–∞–º —Ç–æ—á–Ω–æ–≥–æ —á–∏—Å–ª–∞, –∞–ª–µ –≤–æ–Ω–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∞–º –∑—Ä–æ–∑—É–º—ñ—Ç–∏ —è–∫ –∞–ª–≥–æ—Ä–∏—Ç–º *–º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è*.

–î–µ–∫—ñ–ª—å–∫–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤: O(<i>n</i>), O(<i>n</i> log <i>n</i>), O(<i>n<sup>2</sup></i>), O(<i>n!</i>).


–í –±—É–¥—å —è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É, **—Ü–µ–π –ø–æ—Å—Ç –Ω–µ –ø—Ä–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —á–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**. –í—ñ–Ω –ø—Ä–æ API —Ç–∞ –¥–µ–±–∞–≥. –í–∏—è–≤–ª—è—î—Ç—å—Å—è, –¥–µ–∑–∞–π–Ω API –≤–∫–ª—é—á–∞—î —Å—Ö–æ–∂—ñ –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è.

---

–ó–Ω–∞—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ —á–∞—Å—É –º–∞—Ä–Ω—É—î—Ç—å—Å—è –Ω–∞ –ø–æ—à—É–∫ —ñ —Ñ—ñ–∫—Å –ø–æ–º–∏–ª–æ–∫ —É –∫–æ–¥—ñ. –ë—ñ–ª—å—à—ñ—Å—Ç—å –¥–µ–≤—ñ–≤ —Ö–æ—Ç—ñ–ª–∏ –± –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –±–∞–≥–∏ —à–≤–∏–¥—à–µ. –Ü —è–∫ –±–∏ –ø—Ä–∏—î–º–Ω–æ –Ω–µ –±—É–ª–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –≤–∞–∂–ª–∏–≤–∏–π –±–∞–≥, —Ü–µ –≤—ñ–¥—Å—Ç—ñ–π —Ç—Ä–∞—Ç–∏—Ç–∏ —Ü—ñ–ª–∏–π –¥–µ–Ω—å –Ω–∞ –ø–æ—à—É–∫ —î–¥–∏–Ω–æ–≥–æ –±–∞–≥—É –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –µ—Ç–∞–ø—É –≤–∞—à–æ–≥–æ —Ä–æ–∞–¥–º–∞–ø–∞.

–î–æ—Å–≤—ñ–¥ —É –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—ñ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –≤–∏–±—ñ—Ä –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π, –±—ñ–±–ª—ñ–æ—Ç–µ–∫ —ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤. –î–µ—è–∫—ñ API —ñ –º–æ–≤–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó —Ä–æ–±–ª—è—Ç—å —Ü—ñ–ª–∏–π –∫–ª–∞—Å –ø–æ–º–∏–ª–æ–∫ –Ω–µ–º–æ–∂–ª–∏–≤–∏–º–∏. –ê –¥–µ—è–∫—ñ - –≥–µ–Ω–µ—Ä—É—é—Ç—å –±–µ–∑–∫—ñ–Ω–µ—á–Ω—É —ó—Ö –∫—ñ–ª—å–∫—ñ—Å—Ç—å. **–ê–ª–µ —è–∫ –º–æ–∂–Ω–∞ —Å–∫–∞–∑–∞—Ç–∏ —è–∫—ñ –∑ –Ω–∏—Ö —è–∫—ñ?**

–ë–∞–≥–∞—Ç–æ –æ–Ω–ª–∞–π–Ω-–æ–±–≥–æ–≤–æ—Ä–µ–Ω—å API –≤ –ø–µ—Ä—à—É —á–µ—Ä–≥—É —Å—Ç–æ—Å—É—é—Ç—å—Å—è –µ—Å—Ç–µ—Ç–∏–∫–∏. –ê–ª–µ –µ—Å—Ç–µ—Ç–∏–∫–∞ [–Ω–µ –¥–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ](/optimized-for-change/) –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è —è–∫ –ø—Ä–∏—î–º–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å API –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ.

**–Ü —è –º–∞—é –º–µ—Ç—Ä–∏–∫—É, —è–∫–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –¥—É–º–∞—Ç–∏ –ø—Ä–æ —Ü–µ. –Ø –Ω–∞–∑–∏–≤–∞—é —ó—ó *Bug-O* –Ω–æ—Ç–∞—Ü—ñ—è:**

<font size="40">üêû(<i>n</i>)</font>

Big-O –æ–ø–∏—Å—É—î —è–∫ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–ø–æ–≤—ñ–ª—å–Ω—é—î—Ç—å—Å—è –∑ —Ä–æ—Å—Ç–æ–º –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö. –¢–æ–¥—ñ —è–∫ *Bug-O* –ø–æ–∫–∞–∑—É—î —è–∫ API —Å–ø–æ–≤—ñ–ª—å–Ω—é—î *–≤–∞—à—É —Ä–æ–±–æ—Ç—É* –∑ —Ä–æ—Å—Ç–æ–º –∫–æ–¥–æ–≤–æ—ó –±–∞–∑–∏.

---

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥, —è–∫–∏–π –≤—Ä—É—á–Ω—É –æ–Ω–æ–≤–ª—é—î DOM —ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ `node.appendChild()`, `node.removeChild()` —ñ –Ω–µ –º–∞—î —á—ñ—Ç–∫–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:

```jsx
function trySubmit() {
  // –°–µ–≥–º–µ–Ω—Ç 1
  let spinner = createSpinner();
  formStatus.appendChild(spinner);
  submitForm().then(() => {
  	// –°–µ–≥–º–µ–Ω—Ç 2
    formStatus.removeChild(spinner);
    let successMessage = createSuccessMessage();
    formStatus.appendChild(successMessage);
  }).catch(error => {
  	// –°–µ–≥–º–µ–Ω—Ç 3
    formStatus.removeChild(spinner);
    let errorMessage = createErrorMessage(error);
    let retryButton = createRetryButton();
    formStatus.appendChild(errorMessage);
    formStatus.appendChild(retryButton)
    retryButton.addEventListener('click', function() {
      // –°–µ–≥–º–µ–Ω—Ç 4
      formStatus.removeChild(errorMessage);
      formStatus.removeChild(retryButton);
      trySubmit();
    });
  })
}
```

–ü—Ä–æ–±–ª–µ–º–∞ —Ü—å–æ–≥–æ –∫–æ–¥—É –Ω–µ –≤ —Ç–æ–º—É, —â–æ –≤—ñ–Ω ‚Äú–ø–æ—Ç–≤–æ—Ä–Ω–∏–π‚Äù, —Ç–æ–º—É —â–æ –º–∏ –≤—Å–µ —â–µ –Ω–µ —Ä–æ–∑–º–æ–≤–ª—è—î–º–æ –ø—Ä–æ –µ—Å—Ç–µ—Ç–∏–∫—É. **–Ø–∫—â–æ —Ç—É—Ç —î –±–∞–≥, —Ç–æ —è –Ω–µ –∑–Ω–∞—é –∑–≤—ñ–¥–∫–∏ –ø–æ—á–∏–Ω–∞—Ç–∏ –ø–æ—à—É–∫.**

**–í–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ç–æ–≥–æ –≤ —è–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –∫–æ–ª–±–µ–∫–∏ —Ç–∞ –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è —ñ–≤–µ–Ω—Ç–∏, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–∂–ª–∏–≤–∏—Ö –Ω–∞–ø—Ä—è–º–∫—ñ–≤ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –ø–æ—Ä–æ–¥–∂—É—î –∫–æ–º–±—ñ–Ω–∞—Ç–æ—Ä–Ω–∏–π –≤–∏–±—É—Ö.** –í –¥–µ—è–∫–∏—Ö –∑ –Ω–∏—Ö, —è –ø–æ–±–∞—á—É –≤—ñ—Ä–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –í —ñ–Ω—à–∏—Ö –∂–µ, —è –ø–æ–±–∞—á—É –ø–æ–≤—Ç–æ—Ä—é—î–º—ñ —Å–ø—ñ–Ω–µ—Ä–∏, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —ñ, –º–æ–∂–ª–∏–≤–æ, –∑–±–æ—ó.

–î–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –º–∞—î 4 —Ä—ñ–∑–Ω—ñ —Å–µ–∫—Ü—ñ—ó —ñ –Ω—ñ—è–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç—ñ–π —â–æ–¥–æ —ó—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ. –ú–æ—ó –¥—É–∂–µ –Ω–µ–Ω–∞—É—á–Ω—ñ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–∏ –ø–æ–∫–∞–∑—É—é—Ç—å, —â–æ —Ç—É—Ç 4√ó3√ó2√ó1 = 24 —Ä—ñ–∑–Ω–∏—Ö –Ω–∞–ø—Ä—è–º–∫—ñ–≤ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥–∞. –Ü —è–∫—â–æ –¥–æ–¥–∞—Ç–∏ —â–µ 4 —Å–µ–≥–º–µ–Ω—Ç–∏, –º–∞—Ç–∏–º–æ 8√ó7√ó6√ó5√ó4√ó3√ó2√ó1 ‚Äî *—Å–æ—Ä–æ–∫ —Ç–∏—Å—è—á* –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π. –©–æ –∂, –±–∞–∂–∞—é —É—Å–ø—ñ—Ö—ñ–≤.

**–Ü–Ω—à–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, Bug-O —Ü—å–æ–≥–æ –∫–æ–¥—É - üêû(<i>n!</i>)** , –¥–µ *n* - —Ü–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ñ–≤ –∫–æ–¥–∞, —â–æ —Å—Ç–æ—Å—É—é—Ç—å—Å—è DOM. –¢–∞–∫, —Ü–µ *—Ñ–∞–∫—Ç–æ—Ä—ñ–∞–ª*. –ó–≤–∏—á–∞–π–Ω–æ, —Ü–µ –Ω–µ –¥—É–∂–µ –Ω–∞—É—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥. –ù–µ –≤—Å—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏ –º—ñ–∂ —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏ –º–æ–∂–ª–∏–≤—ñ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ. –ê–ª–µ –∑ —ñ–Ω—à–æ–≥–æ –±–æ–∫—É, –∫–æ–∂–µ–Ω —Å–µ–≥–º–µ–Ω—Ç –º–æ–∂–µ –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –±—ñ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—É. <span style="word-break: keep-all">üêû(*¬Ø\\\_(„ÉÑ)\_/¬Ø*)</span> –≤—Å–µ —â–µ –¥—É–∂–µ –ø–æ–≥–∞–Ω–æ. –ú–æ–∂–Ω–∞ –∫—Ä–∞—â–µ.

---

–î–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è Bug-O —Ü—å–æ–≥–æ –∫–æ–¥—É, –º–∏ –º–æ–∂–µ–º–æ –æ–±–º–µ–∂–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–∂–ª–∏–≤–∏—Ö —Å—Ç–∞–Ω—ñ–≤ —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤. –î–ª—è —Ü—å–æ–≥–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –Ω—ñ—è–∫–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞. –ú–∏ –ø—Ä–æ—Å—Ç–æ –∂–æ—Ä—Å—Ç–∫–æ –∑–∞–¥–∞–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞. –Ø–∫ —Ü–µ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```jsx
let currentState = {
  step: 'initial', // 'initial' | 'pending' | 'success' | 'error'
};

function trySubmit() {
  if (currentState.step === 'pending') {
    // –ù–µ –¥–æ–∑–≤–æ–ª—è—î–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö submit-—ñ–≤
    return;
  }
  setState({ step: 'pending' });
  submitForm().then(() => {
    setState({ step: 'success' });
  }).catch(error => {
    setState({ step: 'error', error });
  });
}

function setState(nextState) {
  // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ—Ö –ø–æ—Ç–æ–º–∫—ñ–≤
  formStatus.innerHTML = '';

  currentState = nextState;
  switch (nextState.step) {
    case 'initial':
      break;
    case 'pending':
      formStatus.appendChild(spinner);
      break;
    case 'success':
      let successMessage = createSuccessMessage();
      formStatus.appendChild(successMessage);
      break;
    case 'error':
      let errorMessage = createErrorMessage(nextState.error);
      let retryButton = createRetryButton();
      formStatus.appendChild(errorMessage);
      formStatus.appendChild(retryButton);
      retryButton.addEventListener('click', trySubmit);
      break;
  }
}
```

–¶–µ–π –∫–æ–¥ –Ω–µ –¥—É–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è. –ö—Ä—ñ–º —Ç–æ–≥–æ, –≤—ñ–Ω –±—ñ–ª—å—à –±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω–∏–π. –ê–ª–µ –π–æ–≥–æ *–Ω–∞–±–∞–≥–∞—Ç–æ* –ø—Ä–æ—Å—Ç—ñ—à–µ –¥–µ–±–∞–∂–∏—Ç–∏ –≤ —Ç–æ–º—É —á–∏—Å–ª—ñ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥—É:

```jsx{3}
function setState(nextState) {
  // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ—Ö –ø–æ—Ç–æ–º–∫—ñ–≤
  formStatus.innerHTML = '';

  // ... –∫–æ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –¥–æ formStatus...
```

–ö–æ–ª–∏ –º–∏ –æ—á–∏—â—É—î–º–æ —Å—Ç–∞—Ç—É—Å —Ñ–æ—Ä–º–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è–º –±—É–¥—å —è–∫–∏—Ö –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π, –º–∏ –∑–∞–±–µ–∑–ø–µ—á—É–µ–º–æ —Ç–µ, —â–æ —Ä–æ–±–æ—Ç–∞ –∑ DOM –∑–∞–≤–∂–¥–∏ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞. –¶–µ —Å–ø–æ—Å—ñ–± –±–æ—Ä–æ—Ç—å–±–∏ –∑ [—î–Ω—Ç—Ä–æ–ø—ñ—î—é](/the-elements-of-ui-engineering/) ‚Äî –º–∏ –Ω–µ –¥–æ–∑–≤–æ–ª—è—î–º–æ –ø–æ–º–∏–ª–∫–∞–º –Ω–∞–∫–æ–ø–∏—á—É–≤–∞—Ç–∏—Å—å. –¶–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç ‚Äú–≤–∏–º–∫–Ω—É—Ç–∏ —Ç–∞ —É–≤—ñ–º–∫–Ω—É—Ç–∏‚Äù, —ñ —Ç–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –ø—Ä–∞—Ü—é—î –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ.

**–Ø–∫—â–æ –º–∏ –∑—É—Å—Ç—Ä—ñ—á–∞—î–º–æ –ø–æ–º–∏–ª–∫—É, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –Ω–∞ *–∫—Ä–æ–∫* –Ω–∞–∑–∞–¥ ‚Äî –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É `setState`.** Bug-O –≤ —Ç–∞–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É —Å–∫–ª–∞–¥–∞—î üêû(*n*) –¥–µ *n* - —Ü–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—Ä–µ–Ω–¥–µ—Ä–µ–Ω–∏—Ö —Å–µ–≥–º–µ–Ω—Ç—ñ–≤ –∫–æ–¥–∞. –¢–µ–ø–µ—Ä —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –¥–µ–±–∞–≥–∞ –¥–æ—Ä—ñ–≤–Ω—é—î —á–æ—Ç–∏—Ä—å–æ–º (—Ç–æ–º—É —â–æ –º–∏ –º–∞—î–º–æ —á–æ—Ç–∏—Ä–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤ `switch`).

–ú–∏ –≤—Å–µ —â–µ –º–∞—î–º–æ [—Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏](https://uk.wikipedia.org/wiki/%D0%A1%D1%82%D0%B0%D0%BD_%D0%B3%D0%BE%D0%BD%D0%B8%D1%82%D0%B2%D0%B8) –≤ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—ñ —Å—Ç–∞–Ω–æ–º. –ê–ª–µ –¥–µ–±–∞–∂–∏—Ç–∏ —Ç–µ–ø–µ—Ä –ø—Ä–æ—Å—Ç—ñ—à–µ —Ç–æ–º—É, —â–æ –∫–æ–∂–µ–Ω –ø—Ä–æ–º—ñ–∂–Ω–∏–π —Å—Ç–∞–Ω –º–æ–∂–µ –±—É—Ç–∏ –∑–∞–ª–æ–≥–æ–≤–∞–Ω–∏–π —Ç–∞ –ø—Ä–æ—ñ–Ω—Å–ø–µ–∫—Ç–æ–≤–∞–Ω–∏–π. –ö—Ä—ñ–º —Ç–æ–≥–æ, –º–∏ —è–≤–Ω–æ –º–æ–∂–µ–º–æ –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –¥–µ—è–∫—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏:

```jsx
function trySubmit() {
  if (currentState.step === 'pending') {
    // –ù–µ –¥–æ–∑–≤–æ–ª—è—î–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö submit-—ñ–≤
    return;
  }
```

–ó–≤–∏—á–∞–π–Ω–æ, –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –æ–±–Ω—É–ª—è—Ç–∏ DOM - —Ü–µ –∫–æ–º–ø—Ä–æ–º—ñ—Å. –ù–∞—ó–≤–Ω–æ –≤–∏–¥–∞–ª—è—é—á–∏ —ñ –¥–æ–¥–∞—é—á–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ DOM –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É —Ä—É–π–Ω—É—î —ó—Ö –≤–Ω—É—Ç—Ä—ñ–Ω–Ω—ñ–π —Å—Ç–∞–Ω, –∑–∞—Å—Ç–∞–≤–ª—è—î –≤—Ç—Ä–∞—Ç–∏—Ç–∏ —Ñ–æ–∫—É—Å —ñ —Å–ø—Ä–∏—á–∏–Ω—è—î –∂–∞—Ö–ª–∏–≤—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ —É –≤–µ–ª–∏–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö.

–°–∞–º–µ —Ç–æ–º—É —Ç–∞–∫—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —è–∫ React –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω—ñ. –í–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∞–º *–¥—É–º–∞—Ç–∏* –≤ –∫–ª—é—á—ñ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è UI –∑ –Ω—É–ª—è –±–µ–∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ü—å–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É:

```jsx
function FormStatus() {
  let [state, setState] = useState({
    step: 'initial'
  });

  function handleSubmit(e) {
    e.preventDefault();
    if (state.step === 'pending') {
      // –ù–µ –¥–æ–∑–≤–æ–ª—è—î–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö submit-—ñ–≤
      return;
    }
    setState({ step: 'pending' });
    submitForm().then(() => {
      setState({ step: 'success' });
    }).catch(error => {
      setState({ step: 'error', error });
    });
  }

  let content;
  switch (state.step) {
    case 'pending':
      content = <Spinner />;
      break;
    case 'success':
      content = <SuccessMessage />;
      break;
    case 'error':
      content = (
        <>
          <ErrorMessage error={state.error} />
          <RetryButton onClick={handleSubmit} />
        </>
      );
      break;
  }

  return (
    <form onSubmit={handleSubmit}>
      {content}
    </form>
  );
}
```

–ö–æ–¥ –≤–∏–≥–ª—è–¥–∞—î —Ç—Ä—ñ—à–∫–∏ –ø–æ —ñ–Ω—à–æ–º—É, –ø—Ä–æ—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø –∑–∞–ª–∏—à–∏–≤—Å—è —Ç–∏–º —Å–∞–º–∏–º. –ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–∏–º—É—à—É—î –¥–æ–¥–µ—Ä–∂—É–≤–∞—Ç–∏—Å—å –≥—Ä–∞–Ω–∏—Ü—å, —Ç–∞–∫ –≤–∏ –∑–Ω–∞—î—Ç–µ, —â–æ *—ñ–Ω—à–∏–π* –∫–æ–¥ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –Ω–µ *–∑–ª–∞–º–∞—î* —â–æ—Å—å –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞(–π–æ–≥–æ DOM –∞–±–æ state). –ü—ñ–¥—Ö—ñ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –¥–æ–∑–≤–æ–ª—è—î –∑–º–µ–Ω—à–∏—Ç–∏ Bug-O.

–§–∞–∫—Ç–∏—á–Ω–æ, —è–∫—â–æ *–±—É–¥—å —è–∫–µ* –∑–Ω–∞—á–µ–Ω–Ω—è –≤ DOM React-–¥–æ–¥–∞—Ç–∫–∞ –≤–∏–≥–ª—è–¥–∞—î –ø–æ–º–∏–ª–∫–æ–≤–∏–º –≤–∏ –∑–∞–≤–∂–¥–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–¥—Å–ª—ñ–¥–∏—Ç–∏ –∑–≤—ñ–¥–∫–∏ –≤–æ–Ω–æ –ø—Ä–∏–π—à–ª–æ –∑–∞–≥–ª—è–Ω—É–≤—à–∏ –≤ –∫–æ–¥ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥–µ—Ä–µ–≤—ñ React –æ–¥–∏–Ω –∑–∞ –æ–¥–Ω–∏–º. –ù–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –¥–æ–¥–∞—Ç–∫—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ç—Ä–∞—Å—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–∫–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Å–∫–ª–∞–¥–∞—î üêû(*–≤–∏—Å–æ—Ç–∞ React –¥–µ—Ä–µ–≤–∞*).

**–í –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä–∞–∑ –∫–æ–ª–∏ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –¥–∏—Å–∫—É—Å—ñ—é —â–æ–¥–æ API, –ø–æ–¥—É–º–∞–π—Ç–µ: –∞ —è–∫–∞ üêû(*n*) –¥–µ–±–∞–≥—É —Å–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–º–∏–ª–∫–∏ —Ü—å–æ–≥–æ API?** –©–æ–¥–æ –≤–∂–µ —ñ—Å–Ω—É—é—á–∏—Ö API —ñ –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤, –∑ —è–∫–∏–º–∏ –≤–∏ –¥–æ–±—Ä–µ –∑–Ω–∞–π–æ–º—ñ? Redux, CSS, –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è ‚Äî –≤—Å—ñ –≤–æ–Ω–∏ –º–∞—é—Ç—å –≤–ª–∞—Å–Ω–∏–π Bug-O.

---